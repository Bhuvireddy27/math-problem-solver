<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="https://tse1.mm.bing.net/th?id=OIP.xVVoolJezwwTwFfVM1KBGAHaGG&pid=Api&P=0&h=180">
  <title>Random Variables Guide</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='common.css') }}">
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
</head>
<body>
  <header class="header">
    <h1>Understanding Random Variables</h1>
    <p>A Comprehensive Guide</p>
  </header>

  <nav>
    <a href="#intro">Introduction</a>
    <a href="#pmf">PMF</a>
    <a href="#pdf">PDF</a>
    <a href="#cdf">CDF</a>
    <a href="#expected">Expected Value</a>
    <a href="#variance">Variance</a>
    <a href="#moments">Moments</a>
    <a href="{{ url_for('home') }}">Home</a>

  </nav>

  <div class="container">
    <div class="content">
      <section id="random">
        <h2 id="intro">Introduction to Random Variables</h2>
        <p>A random variable is a variable whose possible values are outcomes of a random phenomenon. There are two types of random variables:</p>
        <ul>
          <li><strong>Discrete Random Variables</strong>: Take on a countable number of distinct values (e.g., number of heads in coin flips).</li>
          <li><strong>Continuous Random Variables</strong>: Take on an infinite number of possible values (e.g., height, weight).</li>
        </ul>
      </section>

      <section id="random">
      <h2 id="pmf">Probability Mass Function (PMF)</h2>
      <p>The PMF of a discrete random variable gives the probability that the variable takes on a specific value. The formula for PMF is:</p>
      <div class="formula">
        \( P(X = x) = p(x) \)
      </div>

      <div class="example">
      <p><strong>Example</strong>: For a fair six-sided die, the PMF is:</p>
      <div class="formula">
        \( P(X = x) = \frac{1}{6} \) for \( x = 1, 2, 3, 4, 5, 6 \).
      </div>
      </div>
    </section>
    <section id="random">
      <h2 id="pdf">Probability Density Function (PDF)</h2>
      <p>The PDF of a continuous random variable describes the relative likelihood of the variable taking on a specific value. The formula for PDF is:</p>
      <div class="formula">
        \( f(x) = \frac{dF(x)}{dx} \)
      </div>

      <div class="example">
      <p><strong>Example</strong>: The PDF of a normal distribution is:</p>
      <div class="formula">
        \( f(x) = \frac{1}{\sigma \sqrt{2\pi}} e^{-\frac{(x - \mu)^2}{2\sigma^2}} \)
      </div>
      </div>
    </section>
    <section id="random">
      <h2 id="cdf">Cumulative Distribution Function (CDF)</h2>
      <p>The CDF of a random variable gives the probability that the variable takes on a value less than or equal to a specific value. The formula for CDF is:</p>
      <div class="formula">
        \( F(x) = P(X \leq x) \)
      </div>

      <div class="example">
      <p><strong>Example</strong>: The CDF of a uniform distribution is:</p>
      <div class="formula">
        \( F(x) = \frac{x - a}{b - a} \) for \( a \leq x \leq b \).
      </div>
    </div>
  </section>
  <section id="random">
      <h2 id="expected">Expected Value (Mean)</h2>
      <p>The expected value of a random variable is the long-run average value of the variable. The formula for expected value is:</p>
      <div class="formula">
        \( E[X] = \sum x \cdot p(x) \) (for discrete variables).
      </div>

      <div class="example">
      <p><strong>Example</strong>: The expected value of a fair die is:</p>
      <div class="formula">
        \( E[X] = \frac{1 + 2 + 3 + 4 + 5 + 6}{6} = 3.5 \).
      </div>
    </div>
  </section>
  <section id="random">
      <h2 id="variance">Variance and Standard Deviation</h2>
      <p>The variance measures the spread of the random variable's values. The formula for variance is:</p>
      <div class="formula">
        \( \text{Var}(X) = E[(X - \mu)^2] \)
      </div>

      <div class="example">
      <p><strong>Example</strong>: The variance of a fair die is:</p>
      <div class="formula">
        \( \text{Var}(X) = \frac{(1-3.5)^2 + (2-3.5)^2 + \dots + (6-3.5)^2}{6} = 2.92 \).
      </div>
      </div>
    </section>
    <section id="random">
      <h2 id="moments">Moments of Random Variables</h2>
      <p>Moments are quantitative measures related to the shape of a distribution. The <strong>n-th moment</strong> of a random variable is defined as:</p>
      <div class="formula">
        \( \mu_n = E[(X - \mu)^n] \)
      </div>
      <p><strong>First Moment (Mean)</strong>: \( \mu_1 = E[X] \)</p>
      <p><strong>Second Moment (Variance)</strong>: \( \mu_2 = \text{Var}(X) \)</p>
      <p><strong>Third Moment (Skewness)</strong>: Measures the asymmetry of the distribution.</p>
      <p><strong>Fourth Moment (Kurtosis)</strong>: Measures the "tailedness" of the distribution.</p>
    </div>
  </section>

   <!-- Floating Button -->
  <button class="floating-button" id="floatingButton"></button>e

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Modal Pop-up -->
    <div class="modal" id="modal">
      <h2>Select Calculation</h2>
      <div id="modalContent">
        <div class="input-group">
          <label for="calculationType">Select Calculation:</label>
          <select id="calculationType" onchange="generateInputs(this.value)">
            <option value="pmf">PMF</option>
            <option value="pdf">PDF</option>
            <option value="cdf">CDF</option>
            <option value="mean">Mean</option>
            <option value="variance">Variance</option>
            <option value="moments">Moments</option>
          </select>
        </div>
        <div id="inputFields"></div>
      </div>
      <br>
      <button class="run-btn" onclick="calculate()">Calculate</button>
      <button class="clear-btn" onclick="clearResults()">Clear Results</button>
      <button class="close-btn" onclick="closeModal()">Close</button>
    </div>
  </div>

  <script>
     // Floating Button Dragging
     const floatingButton = document.getElementById('floatingButton');

let isDragging = false;
let offsetX = 0;
let offsetY = 0;

floatingButton.addEventListener('mousedown', function(e) {
isDragging = true;
offsetX = e.clientX - floatingButton.getBoundingClientRect().left;
offsetY = e.clientY - floatingButton.getBoundingClientRect().top;
floatingButton.style.cursor = 'grabbing';
});

document.addEventListener('mousemove', function(e) {
if (isDragging) {
    floatingButton.style.left = (e.clientX - offsetX) + 'px';
    floatingButton.style.top = (e.clientY - offsetY) + 'px';
}
});

document.addEventListener('mouseup', function() {
isDragging = false;
floatingButton.style.cursor = 'grab';
});

// Floating Button Modal Trigger
floatingButton.addEventListener('click', function() {
    document.getElementById('overlay').style.display = 'block';

document.getElementById('modal').style.display = 'block';
});

// Close Modal
function closeModal() {
document.getElementById('modal').style.display = 'none';
document.getElementById("overlay").style.display = "none";
}


    // Function to Generate Inputs based on Calculation Type
    function generateInputs(type) {
      const inputFields = document.getElementById("inputFields");
      inputFields.innerHTML = '';  // Clear previous fields

      if (type === 'pmf') {
        inputFields.innerHTML = `
          <div class="input-group">
            <label for="xValue">Value of X:</label>
            <input type="number" id="xValue" placeholder="Enter value of X" required>
          </div>
          <div class="input-group">
            <label for="pValue">Probability P(X = x):</label>
            <input type="number" id="pValue" placeholder="Enter probability" required>
          </div>
        `;
      } else if (type === 'pdf') {
        inputFields.innerHTML = `
          <div class="input-group">
            <label for="xValue">Value of X:</label>
            <input type="number" id="xValue" placeholder="Enter value of X" required>
          </div>
          <div class="input-group">
            <label for="mean">Mean (μ):</label>
            <input type="number" id="mean" placeholder="Enter mean" required>
          </div>
          <div class="input-group">
            <label for="stddev">Standard Deviation (σ):</label>
            <input type="number" id="stddev" placeholder="Enter standard deviation" required>
          </div>
        `;
      } else if (type === 'cdf') {
        inputFields.innerHTML = `
          <div class="input-group">
            <label for="xValue">Value of X:</label>
            <input type="number" id="xValue" placeholder="Enter value of X" required>
          </div>
          <div class="input-group">
            <label for="a">Lower Bound (a):</label>
            <input type="number" id="a" placeholder="Enter lower bound" required>
          </div>
          <div class="input-group">
            <label for="b">Upper Bound (b):</label>
            <input type="number" id="b" placeholder="Enter upper bound" required>
          </div>
        `;
      } else if (type === 'mean') {
        inputFields.innerHTML = `
          <div class="input-group">
            <label for="values">Values (comma-separated):</label>
            <input type="text" id="values" placeholder="e.g., 1, 2, 3, 4, 5, 6">
          </div>
          <div class="input-group">
            <label for="probabilities">Probabilities (comma-separated):</label>
            <input type="text" id="probabilities" placeholder="e.g., 0.1, 0.2, 0.3, 0.2, 0.1, 0.1">
          </div>
        `;
      } else if (type === 'variance') {
        inputFields.innerHTML = `
          <div class="input-group">
            <label for="values">Values (comma-separated):</label>
            <input type="text" id="values" placeholder="e.g., 1, 2, 3, 4, 5, 6">
          </div>
          <div class="input-group">
            <label for="probabilities">Probabilities (comma-separated):</label>
            <input type="text" id="probabilities" placeholder="e.g., 0.1, 0.2, 0.3, 0.2, 0.1, 0.1">
          </div>
        `;
      } else if (type === 'moments') {
        inputFields.innerHTML = `
          <div class="input-group">
            <label for="values">Values (comma-separated):</label>
            <input type="text" id="values" placeholder="e.g., 1, 2, 3, 4, 5, 6">
          </div>
          <div class="input-group">
            <label for="probabilities">Probabilities (comma-separated):</label>
            <input type="text" id="probabilities" placeholder="e.g., 0.1, 0.2, 0.3, 0.2, 0.1, 0.1">
          </div>
        `;
      }
    }

    // Clear Results Function
    function clearResults() {
      document.getElementById("modalContent").innerHTML = ''; // Clear the results
      document.getElementById("inputFields").innerHTML = ''; // Clear input fields
    }

    // Calculate Function
    function calculate() {
      const type = document.getElementById("calculationType").value;
      let result = "";

      if (type === 'pmf') {
        const xValue = parseFloat(document.getElementById("xValue").value);
        const pValue = parseFloat(document.getElementById("pValue").value);

        if (isNaN(xValue) || isNaN(pValue) || pValue < 0 || pValue > 1) {
          result = "Please enter valid inputs.";
        } else {
          result = `
            <div class="result">
              <p><strong>PMF:</strong> P(X = ${xValue}) = ${pValue}</p>
            </div>
          `;
        }
      } else if (type === 'pdf') {
        const xValue = parseFloat(document.getElementById("xValue").value);
        const mean = parseFloat(document.getElementById("mean").value);
        const stddev = parseFloat(document.getElementById("stddev").value);

        if (isNaN(xValue) || isNaN(mean) || isNaN(stddev) || stddev <= 0) {
          result = "Please enter valid inputs.";
        } else {
          const pdf = (1 / (stddev * Math.sqrt(2 * Math.PI))) * Math.exp(-Math.pow(xValue - mean, 2) / (2 * Math.pow(stddev, 2)));
          result = `
            <div class="result">
              <p><strong>PDF:</strong> f(${xValue}) = ${pdf.toFixed(4)}</p>
            </div>
          `;
        }
      } else if (type === 'cdf') {
        const xValue = parseFloat(document.getElementById("xValue").value);
        const a = parseFloat(document.getElementById("a").value);
        const b = parseFloat(document.getElementById("b").value);

        if (isNaN(xValue) || isNaN(a) || isNaN(b) || a >= b) {
          result = "Please enter valid inputs.";
        } else {
          const cdf = (xValue - a) / (b - a);
          result = `
            <div class="result">
              <p><strong>CDF:</strong> F(${xValue}) = ${cdf.toFixed(4)}</p>
            </div>
          `;
        }
      } else if (type === 'mean') {
        const values = document.getElementById("values").value.split(',').map(Number);
        const probabilities = document.getElementById("probabilities").value.split(',').map(Number);

        if (values.length !== probabilities.length || values.some(isNaN) || probabilities.some(isNaN)) {
          result = "Please enter valid inputs.";
        } else {
          const mean = values.reduce((sum, x, i) => sum + x * probabilities[i], 0);
          result = `
            <div class="result">
              <p><strong>Mean:</strong> E[X] = ${mean.toFixed(2)}</p>
            </div>
          `;
        }
      } else if (type === 'variance') {
        const values = document.getElementById("values").value.split(',').map(Number);
        const probabilities = document.getElementById("probabilities").value.split(',').map(Number);

        if (values.length !== probabilities.length || values.some(isNaN) || probabilities.some(isNaN)) {
          result = "Please enter valid inputs.";
        } else {
          const mean = values.reduce((sum, x, i) => sum + x * probabilities[i], 0);
          const variance = values.reduce((sum, x, i) => sum + Math.pow(x - mean, 2) * probabilities[i], 0);
          result = `
            <div class="result">
              <p><strong>Variance:</strong> Var(X) = ${variance.toFixed(2)}</p>
            </div>
          `;
        }
      } else if (type === 'moments') {
        const values = document.getElementById("values").value.split(',').map(Number);
        const probabilities = document.getElementById("probabilities").value.split(',').map(Number);

        if (values.length !== probabilities.length || values.some(isNaN) || probabilities.some(isNaN)) {
          result = "Please enter valid inputs.";
        } else {
          const mean = values.reduce((sum, x, i) => sum + x * probabilities[i], 0);
          const variance = values.reduce((sum, x, i) => sum + Math.pow(x - mean, 2) * probabilities[i], 0);
          const skewness = values.reduce((sum, x, i) => sum + Math.pow(x - mean, 3) * probabilities[i], 0) / Math.pow(variance, 1.5);
          const kurtosis = values.reduce((sum, x, i) => sum + Math.pow(x - mean, 4) * probabilities[i], 0) / Math.pow(variance, 2);

          result = `
            <div class="result">
              <p><strong>Mean (First Moment):</strong> ${mean.toFixed(2)}</p>
              <p><strong>Variance (Second Moment):</strong> ${variance.toFixed(2)}</p>
              <p><strong>Skewness (Third Moment):</strong> ${skewness.toFixed(2)}</p>
              <p><strong>Kurtosis (Fourth Moment):</strong> ${kurtosis.toFixed(2)}</p>
            </div>
          `;
        }
      }

      document.getElementById("modalContent").innerHTML += result;
    }
  </script>
</body>
</html>
